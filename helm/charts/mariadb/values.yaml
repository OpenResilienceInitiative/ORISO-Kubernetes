# MariaDB Helm Chart - Values
# Based on actual running StatefulSet

# Image Configuration
image:
  repository: mariadb
  tag: "10.11"
  pullPolicy: IfNotPresent

# StatefulSet Configuration
replicas: 1
namespace: caritas

# Service Configuration
service:
  name: mariadb
  type: ClusterIP
  port: 3306
  targetPort: 3306

# Database Configuration
database:
  # Root password (should be in Secret, default here)
  rootPassword: "root"
  # Default database name
  name: "caritas"

# Storage Configuration
persistence:
  enabled: true
  storageClass: "local-path"
  size: 10Gi
  accessMode: ReadWriteOnce

# Resources
resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: "1"
    memory: 2Gi

# Probes
livenessProbe:
  exec:
    command:
    - sh
    - -c
    - mysqladmin ping -uroot -proot
  failureThreshold: 6
  initialDelaySeconds: 30
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 5

readinessProbe:
  exec:
    command:
    - sh
    - -c
    - mysql -uroot -proot -e 'SELECT 1;'
  failureThreshold: 3
  initialDelaySeconds: 10
  periodSeconds: 5
  successThreshold: 1
  timeoutSeconds: 3

# Secrets (should reference existing Secret)
secrets:
  rootPassword:
    name: mariadb-secrets
    key: MYSQL_ROOT_PASSWORD
  database:
    name: mariadb-secrets
    key: MYSQL_DATABASE



